{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/AddPerson.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","remove","react_default","a","createElement","name","number","onClick","Persons","persons","map","p","components_Person","key","id","Filter","newSearch","changeSearchInput","value","onChange","AddPerson","props","onSubmit","addHandler","newName","changePersonHandler","newNumber","changeNumberHandler","type","Notification","message","message_class","className","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","console","log","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewSearch","_useState9","_useState10","setMessage","_useState11","_useState12","errMessage","setErrMessage","useEffect","personService","allPersons","isEqualName","filteredPersons","filter","toUpperCase","includes","components_Notification","components_Filter","newsearch","event","target","components_AddPerson","newPerson","preventDefault","findIndex","changePerson","find","n","window","confirm","returnedPerson","catch","error","setTimeout","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.44824ee3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, remove }) => <p>{person.name} {person.number} <button onClick={remove}>Delete</button></p>\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, remove }) => persons.map (p => <Person key={p.name} person = {p} remove={()=>remove(p.id)}/> )\n\nexport default Persons\n","import React from 'react'\n\nconst Filter = ({ newSearch, changeSearchInput }) => {\nreturn (\n    <form>\n    <div>\n      filter shown with <input value={newSearch}  onChange= {changeSearchInput}/>\n    </div>\n  </form>\n)}\n\nexport default Filter\n","import React from 'react'\n\nconst AddPerson = (props) => {\nreturn (\n    <form onSubmit={props.addHandler}>\n    <div>\n      name: <input value={props.newName} onChange = {props.changePersonHandler}/>\n    </div>\n    <div>\n      number: <input value={props.newNumber} onChange = {props.changeNumberHandler}/>\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n)}\n\nexport default AddPerson\n","import React from 'react'\n\nconst Notification = ({ message, message_class }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={message_class}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  console.log ('remove', id)\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport AddPerson from './components/AddPerson'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errMessage, setErrMessage] = useState(null)\n\n// set the data fetch effect\nuseEffect(() => \n  personService\n    .getAll()\n    .then((allPersons) => {\n        setPersons(allPersons)\n    })\n,[])\n\n  // findIndex Person Equal callback\n  const isEqualName = (person) => person.name === newName\n\n  // OnSubmit handler\n  const addPerson = (event) => {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      event.preventDefault()\n\n      if(persons.findIndex(isEqualName) !== -1)\n      // person.name already exists\n        {\n        const changePerson = persons.find(n => n.name === newPerson.name)\n        if(window.confirm(`\"${newName}\" is already registered, replace the number?`))\n          {\n          personService\n            .update(changePerson.id, newPerson)\n            .then(returnedPerson =>\n              {\n              setPersons(persons.map(person => person.id !== changePerson.id ? person : returnedPerson))\n              setNewName('')\n              setNewNumber('')\n            })\n            .catch(error => {\n              setErrMessage(`Person '${newPerson.name}' was already removed from server`)\n              setTimeout(() => {\n                setErrMessage(null)        \n              }, 5000)\n              setPersons(persons.filter(person => person.id !== changePerson.id))    \n            })\n          }\n        }\n      else\n        {      \n        personService\n          .create(newPerson)\n          .then(returnedPerson =>\n            {\n            console.log ('add', returnedPerson)\n            setPersons(persons.concat(returnedPerson))\n            console.log('set nach add', returnedPerson)\n            setNewName('')\n            setNewNumber('')\n            setMessage(`Adding ${returnedPerson.name} was successful.`)\n            setTimeout(() => {\n              setMessage(null)        \n            }, 5000)\n        })\n        }\n  }\n\n  // delete the selected person after confirmation\n  //\n  const removePerson = (id) => {    \n    console.log('removePerson', id)\n    const person = persons.find(n => n.id === id)\n    if (window.confirm(`Do you really want to delete ${person.name}?`)) {\n      personService\n      .remove(id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n      })\n    }\n  }\n\n  // OnChange handler\n  const changePersonInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  // OnChange handler\n  const changeNumberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  // OnChange handler\n  const changeSearchInput = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const filteredPersons = newSearch === ''\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().includes(newSearch.toUpperCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errMessage} message_class='error'/>\n      <Notification message={message} message_class='success'/>\n      <Filter \n          newsearch={newSearch} \n          changeSearchInput={changeSearchInput}\n      />\n\n      <h2>Add a new</h2>\n      <AddPerson \n          addHandler={addPerson} \n          changePersonHandler={changePersonInput} \n          changeNumberHandler={changeNumberInput}\n          newName={newName}\n          newNumber={newNumber}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={filteredPersons} remove={removePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}